"use strict";$=jQuery;var $wrap=$(".classic-menu"),$menu=$wrap.find("#menu-main-menu"),menu_height=$menu.outerHeight(!0);function responsiveMenu(){var s=(IRON.state.responsive=!1)!==IRON.state.logo.page_logo_select?IRON.state.logo.page_logo_select:IRON.state.logo.logo_select;if(void 0!==IRON.state.logo[s])var e=IRON.state.logo[s].url.slice(IRON.state.logo[s].url.indexOf("/")),l=IRON.state.logo[s].url_retina.slice(IRON.state.logo[s].url_retina.indexOf("/"));if(""!=IRON.state.logo.responsive.url)var i=a=IRON.state.logo.responsive.url.slice(IRON.state.logo.responsive.url.indexOf("/"));else{var o=IRON.state.logo.light_responsive?"light":"dark",a=IRON.state.logo[o].url.slice(IRON.state.logo[o].url.indexOf("/"));i=IRON.state.logo[o].url_retina.slice(IRON.state.logo[o].url_retina.indexOf("/"))}$(window).width()<1144?(IRON.state.responsive=!0,$(".classic-menu").addClass("responsive").removeClass("mini"),$(".classic-menu").find(".classic-menu-logo").attr("src",a),$(".classic-menu").find(".classic-menu-logo").attr("srcset",a+" 1x, "+i+" 2x"),$(".responsive-header").length<1&&($('<div class="responsive-header"><a class="sandwich-icon"></a></div>').prependTo(".menu-container"),0==jQuery(".languages-selector").children().length&&$(".languages-selector").remove(),$(".classic-menu > ul").height("auto"),$(".classic-menu > ul > li.menu-item").css("margin-top","auto")),$(".responsive-header").off().on("click",".sandwich-icon",function(s){if($(".classic-menu").is(".visible"))return $(".sandwich-icon").removeClass("opened"),$(".classic-menu").removeClass("visible"),$(".classic-menu").scrollTop(0),!1;$(".sandwich-icon").addClass("opened"),$(".classic-menu").addClass("visible")}),$(".classic-menu ul li a").off().on("click",function(s){var e=$(this).parents("li");$(this).parents("#menu-main-menu").find("li").each(function(s){_.contains(e,this)||$(this).removeClass("active")}),$(this).closest("li").not(".logo").toggleClass("active"),"#"==$(this).attr("href")?s.preventDefault():($(".classic-menu").removeClass("visible"),$(".classic-menu .sandwich-icon").removeClass("opened"),$(".classic-menu").scrollTop(0))}),$(".classic-menu-hot-links").css("text-align",$(".classic-menu-hot-links>li>a").css("text-align"))):($(".classic-menu").removeClass("responsive").removeClass("visible"),$(".classic-menu").hasClass("mini")?""!=IRON.state.logo.logo_mini_url&&$(".classic-menu").find(".classic-menu-logo").attr("src",IRON.state.logo.logo_mini_url):""!=e&&($(".classic-menu").find(".classic-menu-logo").attr("src",e),$(".classic-menu").find(".classic-menu-logo").attr("srcset",e+" 1x, "+l+" 2x")),$(".classic-menu .hotlink").attr("style",""),$(".classic-menu .responsive-header").remove()),$(".classic-menu.responsive .menu-container li .sub-menu").each(function(){var s=$(this).find("li").length,e=$(this).find("li").height();$(this).css("max-height",s*e+50)})}$(window).load(function(){$(".classic-menu").addClass("ready")}),$("html").hasClass("no-touchevents")?($(window).on("load",responsiveMenu),$(window).on("resize",responsiveMenu)):($(window).on("resize",responsiveMenu),$(window).on("load",responsiveMenu)),IRON.setupMenu=function(){$menu.find('>li:not(".hotlink")').length;var s=!1!==IRON.state.logo.page_logo_select?IRON.state.logo.page_logo_select:IRON.state.logo.logo_select,e=IRON.state.logo.logo_select;IRON.state.logo.light_responsive;if(void 0!==IRON.state.logo[s])var i=IRON.state.logo[s].url.slice(IRON.state.logo[s].url.indexOf("/")),o=IRON.state.logo[s].url_retina.slice(IRON.state.logo[s].url_retina.indexOf("/"));var a=IRON.state.logo.logo_mini_url.slice(IRON.state.logo.logo_mini_url.indexOf("/")),n=IRON.state.logo[e].url.slice(IRON.state.logo[e].url.indexOf("/"));IRON.state.logo[e].url_retina.slice(IRON.state.logo[e].url_retina.indexOf("/"));if($(document).on("scroll touchmove",function(s){var e=$(this).scrollTop(),l=$(this).scrollTop();!$(".classic-menu").hasClass("mini-active")&&!$(".classic-menu").hasClass("mini-fullwidth-active")||$(".classic-menu").hasClass("responsive")||(150<e&&($(".classic-menu").hasClass("mini")||$(".classic-menu").addClass("mini"),i!==n&&$(".classic-menu").find(".classic-menu-logo").attr("src")!=n&&($(".classic-menu").find(".classic-menu-logo").attr("src",n),$(".classic-menu").find(".classic-menu-logo").attr("srcset",n+" 1x, "+a+" 2x")),""!=a&&$(".classic-menu").find(".classic-menu-logo").attr("src")!=a&&($(".classic-menu").find(".classic-menu-logo").attr("src",a),$(".classic-menu").find(".classic-menu-logo").attr("srcset",a+" 1x, "+a+" 2x"))),e<=150&&($(".classic-menu").hasClass("mini")&&$(".classic-menu").removeClass("mini"),$(".classic-menu").find(".classic-menu-logo").attr("src")!=i&&($(".classic-menu").find(".classic-menu-logo").attr("src",i),$(".classic-menu").find(".classic-menu-logo").attr("srcset",i+" 1x, "+o+" 2x")),$(".classic-menu").css("height",""))),l}),IRON.state.logo.enable)if(IRON.state.logo.dark.url||IRON.state.logo.light.url)var l=$('<div class="logo '+IRON.state.logo.logo_align+'"><a href="'+IRON.state.site_url+'"><img class="classic-menu-logo" src="'+i+'" srcset="'+i+" 1x, "+o+' 2x" alt="'+IRON.state.site_name+'"></a></div>');else l=$('<div class="logo '+IRON.state.logo.logo_align+'"><a href="'+IRON.state.site_url+'">'+IRON.state.site_name+"</a></div>");else if(""!=IRON.state.logo.responsive.url&&""!=i)l=$('<div class="logo logo-mobile-only"><a href="'+IRON.state.site_url+'"><img class="classic-menu-logo" src="'+i+'" srcset="'+i+" 1x, "+o+' 2x" alt="'+IRON.state.site_name+'"></a></div>');if(""==IRON.state.logo.responsive.url&&!IRON.state.logo.enable||$wrap.find(".logo").length?$wrap.find(".logo img").attr({src:i,srcset:i+" 1x, "+o+" 2x"}):$wrap.find(".menu-container").prepend(l),$wrap.hasClass("classic_menu_logo_align-pull-center")){$wrap.find(".spacer").remove();if($wrap.find(".classic-menu-hot-links").length)$wrap.find(".classic-menu-hot-links");if($wrap.find(".logo").length&&!$menu.find(".logo").length){var t=$wrap.find(".logo").clone(),c=$menu.find(">li").eq(Math.floor($menu.find(">li").length/2));$(t).insertBefore(c)}}$menu.find(">li a").on("mouseover",function(s){if(0<$(this).find(" + ul").length){var e=$(this).find(" + ul");e.outerWidth(!0)+e.offset().left>$(window).width()&&$(this).parent().addClass("collision")}})},$(window).on("load",IRON.setupMenu);